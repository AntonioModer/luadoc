<html>
<head>
<title>LuaDoc</title>
    <link rel="stylesheet" href="http://www.keplerproject.org/doc.css" type="text/css" />
</head>

<body>

<center>
<table border="0" cellspacing="2" cellpadding="2">
<tr><td align="center"><a href="http://www.lua.org">
<img border="0" alt="The Lua language" src="lua.png" /></a></td></tr>
<tr><td align="center"><big><b>LuaDoc</b></big></td></tr>
<tr><td align="center" valign="top">Documentation Generator Tool for the Lua language</td></tr>
</table>
</center>
<p>

<center>
<a href="#whatis">what is?</a> &middot;
<a href="#download">download</a> &middot;
<a href="#howto">how to</a> &middot;
<a href="#subsections">subsections</a> &middot;
<a href="#options">options</a> &middot;
<a href="#news">news</a>
</center>
<p>
<hr></hr>
<a name="whatis"></a>
<h2>What is LuaDoc?</h2>

<p>
LuaDoc is a documentation generator tool for
<a href="http://www.lua.org">Lua</a>
source code.
Like JavaDoc, it parses the declarations and documentation comments in a
set of Lua source files and produces a set of HTML pages describing the
commented declarations and functions.
</p>
<p>
This new version (3.0.0) is entirely written in Lua.
It requires Lua 5.0 and <a href="http://www.keplerproject.org/compat">Compat-5.1</a>.
</p>

<a name="download"></a>
<h2>Download and Installation</h2>
<p>
LuaDoc can be downloaded in source code from the <a href=
"http://luaforge.net/frs/?group_id=18">Lua
Forge</a> page.
</p>
<p>
To install LuaDoc, copy the "luadoc" folder to your Lua installation folder
and just <code>require "luadoc"</code>.
</p>
<p>
On Unix boxes, the file luadoc.lua could be used as a script; it's  the
same as:
</p>
<pre class="example">
lua -f luadoc.lua [options|files]
</pre>
<p>
This is the main script: it will load the other files and  process  the
options.  Try <tt>luadoc.lua --help</tt>: this will  show  you  all  available
options.
</p>

<a name="howto"></a>
<h2>How to comment</h2>
<p>
LuaDoc looks for the sequence of three minus signs (---).
These sequence of characters indicate the beginning of a documented comment.
The last period (.) before a <i>function definition</i> or
an <i>assignment</i> will be considered the end of the documentation for the
corresponding function or assignment.
Inside this documentation, every part has to be ended with a period too.
</p>
<p>
The following code defines a function and its documentation.
<pre class="example">
--- Define special sequences of characters.
-- For each pair (find, subs), the function will create a field named with
-- find which has the value of subs.
-- It also creates an index for the table, according to the order of insertion.
-- @param subs The replacement pattern.
-- @param find The pattern to find.
function def_escapes (find, subs)
   local special = { t = "\t", n = "\n", ['"'] = '"', ['\\'] = '\\', }
   find = gsub (find, "\\(.)", function (x) return %special[x] or x end)
   subs = gsub (subs, "\\(.)", function (x) return %special[x] or x end)
   escape_sequences.n = escape_sequences.n+1
   escape_sequences[escape_sequences.n] = find
   escape_sequences[find] = subs
end
</pre>
<p>
The first line (until the first period) will be the resume.
The last two, which begins with <tt>-- @param</tt>, will compound the
parameters section.
The other lines will complete the description of the function.
The corresponding documentation should be something like:
</p>
<pre class="example">
<table>
  <tr><td>
    <li><a name="def_escapes"><tt><b>def_escapes</b> (find, subs)</tt></a>
    <dl>
    <dd>
    Define special sequences of characters.
    For each pair (find, subs), the function will create a field named with find which has the value of subs.  It also creates an index for the table, according to the order of insertion.
    <dd><dl>
    <dt><i>Parameters:</i>
    <dd>
    <dd><tt>find</tt>: The pattern to find.
    <dd><tt>subs</tt>: The replacement pattern.
    </dl></dd>
    </dl>
</table>
</pre>
<p>
A good example is the LuaDoc system itself.
You can build the documentation by executing the following line from the
LuaDoc directory:
</p>
<pre class="example">
luadoc.lua *.lua
</pre>
<p>
It will produce one HTML file for each Lua file and the an index file.
You can browse them <a href="html/index.html">here</a>.
</p>

<a name="subsections"></a>
<h2>Subsections</h2>
<p>
LuaDoc can generate some subsections at each function or assignment
documentation.
Subsections are indicated at the source code with a `<tt>@</tt>' character
followed by the name of the subsection:
</p>
<ul>
  <li> <tt>param</tt>: Describe functions' parameters.  It also
	requires the name of the parameter.
  <li> <tt>see</tt>: Make reference to other functions or variables.
  <li> <tt>return</tt>: Describe the returning value or values of the function.
  <li> <tt>usage</tt>: Describe the usage of the function or variable.
</ul>

<a name="options"></a>
<h2>Command line options</h2>
<p>
The luadoc command line script has some options:
</p>
<ul>
  <li> <tt>-d path</tt>: defines the output directory path
  <li> <tt>-f "&lt;find&gt;=&lt;replace&gt;"</tt>: defines a substitution
    filter to be applied on all files.  In this option there is no magic
    characters.
  <li> <tt>-g "&lt;find&gt;=&lt;replace&gt;"</tt>: defines a substitution
    filter to be applied on all files.  In this option the strings follow
    Lua gsub's rules so you can have character classes and define captures.
  <li> <tt>--noindexpage</tt>: do not generate the index page.
</ul>

<a name="news"></a>
<h2>News</h2>

<ul>
	<li>[xx/xx/2005] Version 3.0.0 released</li>
	<li>[08/14/2002] Version 2.0 released</li>
	<li>[03/31/1999] Version 1.1 released with "DOS/Windows"-safe sources
	(no problems with "<tt>\r\n</tt>" line-breaks) and new <tt>usage</tt>
	subsection</li>
	<li>[03/15/1999] Version 1.0 released</li>
</ul>

<a name="contact"></a>
<h2>Contact us</h2>

<p>
For more information please
<a href="mailto:info-NO-SPAM-THANKS@keplerproject.org">contact us</a>.
Comments are welcome!
</p>

<hr>
<small>
$Id: index.html,v 1.3 2005/03/08 20:52:39 tuler Exp $
</small>
	
</body>
</html>
