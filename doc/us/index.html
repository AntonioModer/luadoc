<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>LuaDoc: Documentation Generator Tool for the Lua language</title>
    <link rel="stylesheet" href="http://www.keplerproject.org/doc.css" type="text/css" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"><a href="http://www.keplerproject.org/luadoc">
		<img alt="LuaDoc logo" src="lua.png"/>
	</a></div>
	<div id="product_name"><big><b>LuaDoc</b></big></div>
	<div id="product_description">Documentation Generator Tool for the Lua language</div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">
<h1>LuaDoc</h1>
	<ul>
		<li><strong>Home</strong>
			<ul>
				<li><a href="index.html#overview">Overview</a></li>
				<li><a href="index.html#version">Current Version</a></li> <!-- TODO -->
				<li><a href="index.html#download">Download</a></li>
				<li><a href="index.html#installation">Installation</a></li>
				<li><a href="#howto">How to</a></li>
				<li><a href="#subsections">Subsections</a></li>
				<li><a href="#options">Options</a></li>
				<li><a href="#news">What's new</a></li>
				<li><a href="index.html#credits">Credits</a></li> <!-- TODO -->
				<li><a href="index.html#contact">Contact us</a></li>
			</ul>
		</li>
		<li><a href="examples.html">Examples</a></li>
		<li><a href="license.html">License</a></li>
	</ul>
</div> <!-- id="navigation" -->

<div id="content">
<h2><a name="overview"></a>Overview</h2>

<p>
LuaDoc is a documentation generator tool for
<a href="http://www.lua.org">Lua</a>
source code.
Like JavaDoc, it parses the declarations and documentation comments in a
set of Lua source files and produces a set of HTML pages describing the
commented declarations and functions.
</p>
<p>
This new version (3.0.0) is entirely written in Lua.
It requires Lua 5.0 and <a href="http://www.keplerproject.org/compat">Compat-5.1</a>.
</p>

<a name="download"></a>
<h2>Download and Installation</h2>
<p>
LuaDoc can be downloaded in source code from the <a href=
"http://luaforge.net/frs/?group_id=18">Lua
Forge</a> page.
</p>
<p>
To install LuaDoc, copy the "luadoc" folder to your Lua installation folder
and just <code>require "luadoc"</code>.
</p>
<p>
On Unix boxes, the file luadoc.lua could be used as a script; it's  the
same as:
</p>
<pre class="example">
lua -f luadoc.lua [options|files]
</pre>
<p>
This is the main script: it will load the other files and  process  the
options.  Try <tt>luadoc.lua --help</tt>: this will  show  you  all  available
options.
</p>

<a name="howto"></a>
<h2>How to comment</h2>
<p>
LuaDoc looks for the sequence of three minus signs (---).
These sequence of characters indicate the beginning of a documented comment.
The last period (.) before a <i>function definition</i> or
an <i>assignment</i> will be considered the end of the documentation for the
corresponding function or assignment.
Inside this documentation, every part has to be ended with a period too.
</p>
<p>
The following code defines a function and its documentation.
</p>
<pre class="example">
--- Define special sequences of characters.
-- For each pair (find, subs), the function will create a field named with
-- find which has the value of subs.
-- It also creates an index for the table, according to the order of insertion.
-- @param subs The replacement pattern.
-- @param find The pattern to find.
function def_escapes (find, subs)
   local special = { t = "\t", n = "\n", ['"'] = '"', ['\\'] = '\\', }
   find = gsub (find, "\\(.)", function (x) return %special[x] or x end)
   subs = gsub (subs, "\\(.)", function (x) return %special[x] or x end)
   escape_sequences.n = escape_sequences.n+1
   escape_sequences[escape_sequences.n] = find
   escape_sequences[find] = subs
end
</pre>
<p>
The first line (until the first period) will be the resume.
The last two, which begins with <tt>-- @param</tt>, will compound the
parameters section.
The other lines will complete the description of the function.
The corresponding documentation should be something like:
</p>
<pre class="example">
	<a name="def_escapes"><b>def_escapes</b> (find, subs)</a>
	Define special sequences of characters.
	For each pair (find, subs), the function will create a field named with find which has the value of subs.
	It also creates an index for the table, according to the order of insertion.
	Parameters:
<!--		<dl>
			<dt>find</dt>
			<dd>The pattern to find.</dd>
			<dt>subs</dt>
			<dd>The replacement pattern.</dd>
		</dl>-->
</pre>

<p>
A good example is the LuaDoc system itself.
You can build the documentation by executing the following line from the
LuaDoc directory:
</p>
<pre class="example">
luadoc.lua *.lua
</pre>
<p>
It will produce one HTML file for each Lua file and the an index file.
You can browse them <a href="html/index.html">here</a>.
</p>

<a name="subsections"></a>
<h2>Subsections</h2>
<p>
LuaDoc can generate some subsections at each function or assignment
documentation.
Subsections are indicated at the source code with a `<tt>@</tt>' character
followed by the name of the subsection:
</p>
<ul>
  <li> <tt>param</tt>: Describe functions' parameters.  It also
	requires the name of the parameter.</li>
  <li> <tt>see</tt>: Make reference to other functions or variables.</li>
  <li> <tt>return</tt>: Describe the returning value or values of the function.</li>
  <li> <tt>usage</tt>: Describe the usage of the function or variable.</li>
</ul>

<a name="options"></a>
<h2>Command line options</h2>
<p>
The luadoc command line script has some options:
</p>
<ul>
  <li> <tt>-d path</tt>: defines the output directory path</li>
  <li> <tt>-f "&lt;find&gt;=&lt;replace&gt;"</tt>: defines a substitution
    filter to be applied on all files.  In this option there is no magic
    characters.</li>
  <li> <tt>-g "&lt;find&gt;=&lt;replace&gt;"</tt>: defines a substitution
    filter to be applied on all files.  In this option the strings follow
    Lua gsub's rules so you can have character classes and define captures.</li>
  <li> <tt>--noindexpage</tt>: do not generate the index page.</li>
</ul>

<a name="news"></a>
<h2>News</h2>

<ul>
	<li>[xx/xx/2005] Version 3.0.0 released</li>
	<li>[08/14/2002] Version 2.0 released</li>
	<li>[03/31/1999] Version 1.1 released with "DOS/Windows"-safe sources
	(no problems with "<tt>\r\n</tt>" line-breaks) and new <tt>usage</tt>
	subsection</li>
	<li>[03/15/1999] Version 1.0 released</li>
</ul>

<a name="contact"></a>
<h2>Contact us</h2>

<p>
For more information please
<a href="mailto:info-NO-SPAM-THANKS@keplerproject.org">contact us</a>.
Comments are welcome!
</p>
</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
	<p><small>$Id: index.html,v 1.5 2005/04/26 22:59:00 tuler Exp $</small></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
